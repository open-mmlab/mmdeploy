{
  "pipeline": {
    "input": [
      "img"
    ],
    "output": [
      "bboxes"
    ],
    "tasks": [
      {
        "name": "preprocess",
        "type": "Task",
        "module": "Transform",
        "input": [
          "img"
        ],
        "output": [
          "prep_res"
        ],
        "transforms": [
          {
            "type": "LoadImageFromFile"
          },
          {
            "type": "Resize",
            "size": [
              800,
              1333
            ],
            "keep_ratio": true
          },
          {
            "type": "Normalize",
            "mean": [
              123.675,
              116.28,
              103.53
            ],
            "std": [
              58.395,
              57.12,
              57.375
            ],
            "to_rgb": true
          },
          {
            "type": "Pad",
            "size_divisor": 32
          },
          {
            "type": "ImageToTensor",
            "keys": [
              "img"
            ]
          },
          {
            "type": "Collect",
            "keys": [
              "img"
            ],
            "meta_keys": [
              "ori_shape",
              "img_shape",
              "scale_factor"
            ]
          }
        ]
      },
      {
        "name": "retinanet",
        "type": "Task",
        "module": "Net",
        "input": [
          "prep_res"
        ],
        "output": [
          "infer_res"
        ],
        "input_map": {
          "img": "input"
        }
      },
      {
        "name": "retinanet_post",
        "type": "Task",
        "module": "MMDetPostprocess",
        "postprocess_type": "SingleStagePost",
        "input": [
          "prep_res",
          "infer_res"
        ],
        "output": [
          "bboxes"
        ],
        "score_thr": 0.3
      }
    ]
  }
}
